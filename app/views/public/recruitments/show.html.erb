<%= @recruitment.title %>
<%= @recruitment.content %>
<%= @recruitment.participations.count %>/<%= @recruitment.capacity %>
<%= link_to '参加者確認', public_campsite_recruitment_participations_path(@campsite, @recruitment) %>
<%= @recruitment.scheduled_start_date %>
<%= @recruitment.scheduled_end_date %>

<% if @recruitment.is_active == true %>
  <% unless @recruitment.participations.count == @recruitment.capacity %>
    参加者募集中
  <% else %>
    定員人数に達した為参加を中止しています
  <% end %>
<% else %>
  参加者募集を締め切りました
<% end %>


<% if user_signed_in? && current_user.id == @recruitment.user_id %>
  <% if @recruitment.is_active == true %>
    <%= link_to '募集を締め切る', public_campsite_recruitment_activate_path(@campsite, @recruitment) %>
  <% else %>
    <%= link_to '募集を再会する', public_campsite_recruitment_activate_path(@campsite, @recruitment) %>
  <% end %>
<% end %>

<% if user_signed_in? %>
  <% if current_user.already_participationed?(@recruitment) %>
    <%= link_to public_campsite_recruitment_participation_path(@campsite, @recruitment), method: :delete, remote: true do %>
      参加をキャンセルする
    <% end %>
  <% else %>
    <%# 参加人数と定員人数が同じの時、参加希望ボタンを表示させない %>
    <% unless @recruitment.participations.count == @recruitment.capacity %>
      <%= link_to public_campsite_recruitment_participations_path(@campsite, @recruitment), method: :post, remote: true do %>
        参加を希望する
      <% end %>
    <% end %>
  <% end %>
<% end %>
